<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>한끼줍쇼</title>
    <!-- CSS 참조 -->
    <link rel="stylesheet" type="text/css" href="public/main.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Jua&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Do+Hyeon&display=swap" rel="stylesheet">

    <!-- tailwindcss 참조 -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Jua', sans-serif;
        }
        
        h1, h2 {
            font-family: 'Do Hyeon', sans-serif;
        }

        .stroke h1, .stroke h7 {
            text-shadow:
                3px 3px 0 #000,
                -3px -3px 0 #000,
                -3px 3px 0 #000,
                3px -3px 0 #000,
                3px 0 0 #000,
                -3px 0 0 #000,
                0 3px 0 #000,
                0 -3px 0 #000;
        }

        .section-title {
            font-size: 2rem;
            text-align: center;
            margin-bottom: 2rem;
        }
        
        .highlight {
            background-color: rgba(247, 159, 129, 0.3);
            border-radius: 10px;
            padding: 1rem;
            display: inline-block;
        }

        .testimonial-card {
            background-color: #f9f9f9;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            padding: 1.5rem;
            text-align: center;
        }

        .testimonial-card blockquote {
            font-size: 1rem;
            color: #333;
        }

        .testimonial-card .author {
            margin-top: 0.5rem;
            font-weight: bold;
            color: #666;
        }

        .testimonial-card .author-title {
            font-size: 0.875rem;
            color: #999;
        }
    </style>
</head>

<body class="bg-gray-100 dark:bg-gray-900">
    <div class="flex flex-col min-h-screen">
        <header class="px-4 lg:px-6 h-14 flex items-center bg-[#F79F81] text-white" style="text-shadow: -1px 0px 1px black, 0px 1px 1px black, 1px 1px 1px black, 0px -1px 1px black;">
            <a class="flex items-center justify-center" href="/">
                <span style="font-size: 22px;">한끼줍쇼</span>
            </a>
            <nav class="ml-auto flex gap-4 sm:gap-6">
                <a class="text-sm font-medium hover:text-gray-200 no-underline" href="/menu">학식 메뉴</a>
                <a class="text-sm font-medium hover:text-gray-200 no-underline" href="/list">학식 이야기</a>
                <a class="text-sm font-medium hover:text-gray-200 no-underline" href="/subscribe">구독하기</a>
                <a class="text-sm font-medium hover:text-gray-200 no-underline" href="/info">식당 정보</a>
                <a class="text-sm font-medium hover:text-gray-200 no-underline" href="/FAQ">자주 묻는 질문</a>
                <!-- <a class="text-sm font-medium hover:text-gray-200 no-underline" href="/login">로그인</a>
                <a class="text-sm font-medium hover:text-gray-200 no-underline" href="/logout">로그아웃</a> -->
                <a class="text-sm font-medium hover:text-gray-200 no-underline" href="/register">회원가입</a>
                <% if (isLoggedIn) { %>
                    <a class="text-sm font-medium hover:text-gray-200 no-underline" href="/logout">로그아웃</a>
                <% } else { %>
                    <a class="text-sm font-medium hover:text-gray-200 no-underline" href="/login">로그인</a>
                <% } %>
                <a class="text-sm font-medium hover:text-gray-200 no-underline" href="/mypage">마이페이지</a>
            </nav>
        </header>
        <main class="flex-1">
            <!-- 기존 섹션들... -->

            <!-- 이메일 구독 섹션 -->
            <section class="w-full py-12 md:py-24 lg:py-32 xl:py-48 bg-gradient-to-b from-[#F79F81] to-[#F5BCA9] text-white">
                <div class="container px-4 md:px-6">
                    <div class="flex flex-col items-center justify-center space-y-6 text-center">
                        <div class="space-y-2">
                            <h1 class="text-4xl font-bold tracking-tighter sm:text-5xl md:text-6xl lg:text-7xl stroke" style="            text-shadow:
                            2px 2px 0 #000,
                            -2px -2px 0 #000,
                            -2px 2px 0 #000,
                            2px -2px 0 #000,
                            2px 0 0 #000,
                            -2px 0 0 #000,
                            0 2px 0 #000,
                            0 -2px 0 #000;">
                                구독하기
                            </h1>
                            <p class="max-w-[700px] text-gray-100 md:text-xl">
                                오늘의 점심에 대한 정보를 이메일로 받아보세요
                            </p>
                        </div>
                        <form action="/subscribe" method="POST">
                            <div class="flex w-full max-w-md items-center space-x-2">
                                <input
                                    id="email" name="email"
                                    class="flex h-10 w-72 rounded-md border border-transparent bg-white px-4 py-2 text-gray-800 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#374151] flex-1"
                                    placeholder="이메일 주소 입력" type="email" required>
                                <div class="invalid-feedback">올바른 이메일 형식이 아닙니다.</div>
                                <button  type="submit"
                                    class="inline-flex h-10 items-center justify-center whitespace-nowrap rounded-md bg-[#4B5563] px-6 py-2 text-sm font-medium text-white shadow-md transition-colors hover:bg-[#374151] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#374151]">
                                    구독하기
                                </button>
                            </div>
                            <% if (typeof data !== 'undefined') { %>
                                <p class="subscribe_email" style="font-size: 14px;"><%= data %></p>
                            <% } %>
                        </form>
                    </div>
                </div>
            </section>
        </main>
        <footer class="flex flex-col gap-2 sm:flex-row py-6 w-full shrink-0 items-center px-4 md:px-6 border-t border-gray-200 dark:border-gray-700">
            <p class="text-xs text-gray-500 dark:text-gray-400">© 2024 한끼줍쇼. All rights reserved.</p>
            <nav class="sm:ml-auto flex gap-4 sm:gap-6">
            </nav>
        </footer>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js" integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy" crossorigin="anonymous"></script>
</body>

</html>

<script>
    // 이메일 형식 검증 스크립트
    // HTML5의 기본 유효성 검사를 사용하지 않고 별도로 검사하고자 할 때 사용됩니다.
    // 정규식을 사용하여 이메일 형식을 검증합니다.
    const form = document.querySelector('form');
    const emailInput = document.getElementById('email');

    form.addEventListener('submit', function (event) {
        if (!validateEmail(emailInput.value)) {
            // 이메일 형식이 올바르지 않은 경우
            emailInput.classList.add('is-invalid');
            event.preventDefault(); // 폼 제출을 막습니다.
        } else {
            // 이메일 형식이 올바른 경우
            emailInput.classList.remove('is-invalid');
        }
    });

    // 이메일 유효성 검사 함수
    function validateEmail(email) {
        const regex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        return regex.test(email);
    }
</script>